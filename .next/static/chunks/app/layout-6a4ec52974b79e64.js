(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{627:(e,t,r)=>{"use strict";var o=r(7192);r.o(o,"useParams")&&r.d(t,{useParams:function(){return o.useParams}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},1818:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},3094:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},3236:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>m,A:()=>c});var o=r(3365),a=r(1521),n=r(627),s=r(636);class l{initializeAuth(){}getStoredToken(){return localStorage.getItem(this.tokenKey)}async login(e){let t="demo-token-".concat(Date.now()),r={id:"1",email:e.email,name:"Demo User"};return localStorage.setItem(this.tokenKey,t),{token:t,user:r}}async logout(){localStorage.removeItem(this.tokenKey)}async getProfile(){return{id:"1",email:"demo@example.com",name:"Demo User"}}constructor(){this.tokenKey="authToken",this.baseURL=s.env.NEXT_PUBLIC_API_BASE_URL||"https://api.staging.conea.ai"}}let i=new l,u=(0,a.createContext)(void 0),c=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},m=e=>{let{children:t}=e,[r,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),y=(0,n.useRouter)();(0,a.useEffect)(()=>{d()},[]);let d=async()=>{try{if(c(!0),i.initializeAuth(),i.getStoredToken())try{let e=await i.getProfile();h(e),s(!0)}catch(e){console.error("Invalid token:",e),await i.logout(),s(!1),h(null)}}catch(e){console.error("Auth initialization error:",e)}finally{c(!1)}},_=async(e,t)=>{try{c(!0);let r=await i.login({email:e,password:t});if(r.token&&r.user)return h(r.user),s(!0),!0;return!1}catch(e){return console.error("Login error:",e),!1}finally{c(!1)}},f=async()=>{try{c(!0),await i.logout(),h(null),s(!1),y.push("/login")}catch(e){console.error("Logout error:",e)}finally{c(!1)}};return(0,o.jsx)(u.Provider,{value:{isAuthenticated:r,isLoading:l,user:m,login:_,logout:f},children:t})}},4270:()=>{},6907:(e,t,r)=>{Promise.resolve().then(r.bind(r,3236)),Promise.resolve().then(r.t.bind(r,1818,23)),Promise.resolve().then(r.t.bind(r,3094,23)),Promise.resolve().then(r.t.bind(r,4270,23))}},e=>{var t=t=>e(e.s=t);e.O(0,[875,347,870,358],()=>t(6907)),_N_E=e.O()}]);